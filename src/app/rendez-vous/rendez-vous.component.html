<div class="rendez-vous-container">
  <h1>Rendez-Vous List</h1>
  <!-- Filters -->
  <div class="filters">
    <label for="date-filter">Filter by Date:</label>
    <input id="date-filter" type="date" [(ngModel)]="filterDate" (input)="applyFilters()" />

    <label for="professional-filter">Filter by Professional:</label>
    <input id="professional-filter" type="text" [(ngModel)]="filterProfessional" placeholder="Enter professional name" (input)="applyFilters()" />

    <label for="status-filter">Filter by Status:</label>
    <select id="status-filter" [(ngModel)]="filterStatus" (change)="applyFilters()">
      <option value="">All</option>
      <option value="Confirmer">Confirmer</option>
      <option value="En attente">En attente</option>
      <option value="Annuler">Annuler</option>
    </select>
  </div>

  <div class="global-notification-settings">
    <h2>Notification Settings</h2>
    <label for="global-notification-hours">Notify me before:</label>
    <input
      type="number"
      id="global-notification-hours"
      [(ngModel)]="globalNotificationHours"
      placeholder="Hours before"
    />
    <button (click)="setGlobalNotification()">Set Notification</button>
  </div>
  <!-- Rendezvous Table -->
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Heure</th>
        <th>Price (DZD)</th>
        <th>Professional</th>
        <th>Status</th>
        <th>Notification Settings</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let rendezvous of filteredRendezVousList">
        <td>{{ rendezvous.date }}</td>
        <td>{{ rendezvous.heure }}</td>
        <td>{{ rendezvous.price }}</td>
        <td>{{ rendezvous.professional }}</td>
        <td [ngClass]="{
            'status-confirmed': rendezvous.status === 'Confirmer',
            'status-pending': rendezvous.status === 'En attente',
            'status-cancelled': rendezvous.status === 'Annuler'
          }">
          {{ rendezvous.status }}
        </td>
        <td>

          <!-- Dynamic Buttons -->
          <button
            *ngIf="rendezvous.status === 'En attente'"
            (click)="confirmerRendezVous(rendezvous)">
            RÃ©server
          </button>
          <button
            *ngIf="rendezvous.status === 'Confirmer'"
            (click)="annulerRendezVous(rendezvous)">
            Annuler
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
